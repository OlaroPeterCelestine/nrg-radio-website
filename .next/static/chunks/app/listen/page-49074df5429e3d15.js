(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[844],{858:(e,t,s)=>{Promise.resolve().then(s.bind(s,7391))},7391:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),r=s(2115),l=s(5239),n=s(1398),i=s(8455),o=s(8189),c=s(4657);function d(){let[e,t]=(0,r.useState)(!1),[s,d]=(0,r.useState)(0),[m,h]=(0,r.useState)(0),[x,u]=(0,r.useState)(50),[g,p]=(0,r.useState)(1234),[v,f]=(0,r.useState)("Live Music"),[w,y]=(0,r.useState)(null),[N,b]=(0,r.useState)(!1),[j,_]=(0,r.useState)(null),[L,C]=(0,r.useState)([]),[S,k]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=new Audio;return e.crossOrigin="anonymous",e.preload="none",_(e),e.addEventListener("loadstart",()=>b(!1)),e.addEventListener("error",()=>b(!0)),e.addEventListener("timeupdate",()=>d(e.currentTime)),e.addEventListener("durationchange",()=>h(e.duration)),e.addEventListener("play",()=>t(!0)),e.addEventListener("pause",()=>t(!1)),()=>{e.pause(),e.src=""}},[]),(0,r.useEffect)(()=>{let e=async()=>{try{let e=await fetch((0,o.e9)("listenerCount"));if(e.ok){let t=await e.json();p(t.count||1234)}let t=await fetch((0,o.e9)("currentShow"));if(t.ok){let e=await t.json();f(e.name||"Live Music")}let s=await c.O.fetchShows();console.log("\uD83D\uDCCA Listen Page - Schedule data received:",s),s?C(s):(console.log("⚠️ Listen Page - No schedule data received"),C([])),k(!1)}catch(e){console.error("Error fetching stream data:",e),C([]),k(!1)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]),(0,r.useEffect)(()=>{let e=R();e?(y(e),f(e.show_name)):(y(null),f("Live Music"))},[L]);let E=()=>{let e=new Date().toLocaleDateString("en-US",{weekday:"long"});console.log("\uD83D\uDD0D Listen Page - Debug Info:"),console.log("\uD83D\uDCC5 Current day:",e),console.log("\uD83D\uDCCA Total schedule length:",L.length),console.log("\uD83D\uDCCB All shows:",L.map(e=>({id:e.id,name:e.show_name,day:e.day_of_week})));let t=[];return["Monday","Tuesday","Wednesday","Thursday"].includes(e)?(t=L.filter(e=>"Monday-Thursday"===e.day_of_week),console.log("\uD83D\uDCDD Filtering for grouped weekdays: Monday-Thursday")):(t=L.filter(t=>t.day_of_week===e),console.log("\uD83D\uDCDD Filtering for specific day:",e)),console.log("✅ Filtered shows result:",t.length,"shows for",e),console.log("\uD83D\uDCDD Filtered shows:",t.map(e=>({id:e.id,name:e.show_name,day:e.day_of_week}))),t},U=e=>{let t,s,a=new Date().toTimeString().slice(0,5);if(e.time.includes(" - "))[t,s]=e.time.split(" - ");else{let[a,r]=(t=e.time).split(":").map(Number);s="".concat((a+2).toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))}return a>=t&&a<=s},M=e=>e.image&&e.image.startsWith("http")?e.image:"/shows/default-show.jpg",R=()=>{let e=new Date().toLocaleDateString("en-US",{weekday:"long"});return L.filter(t=>t.day_of_week===e).find(e=>U(e))||null};return(0,a.jsxs)("div",{className:"relative bg-black text-white min-h-screen",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("main",{className:"pt-24",children:(0,a.jsxs)("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Listen to ",(0,a.jsx)("span",{className:"text-red-500",children:"NRG Radio"})]}),(0,a.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Tune in to the hottest music, latest news, and engaging shows. Experience the best of Ugandan radio with NRG Radio Uganda."})]}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto bg-gray-900 rounded-2xl p-8 shadow-2xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-8",children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(l.default,{src:w?M(w):"/nrg-logo-red.png",alt:w?w.show_name:"NRG Radio Live Music",width:600,height:250,className:"w-full max-w-4xl h-64 rounded-lg object-cover"})})})}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white",children:w?w.show_name:"Live Music"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:w?"Hosted by ".concat(w.presenters||"NRG Team"):"NRG Radio Uganda"})]}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("button",{onClick:()=>{j&&(e?j.pause():(j.src=(0,o.Wq)("audio"),j.play().catch(e=>{console.error("Error playing audio:",e),b(!0),j.src=(0,o.Wq)("audio",!0),j.play().catch(e=>{console.error("Backup stream also failed:",e)})})))},className:"w-20 h-20 rounded-full bg-red-600 hover:bg-red-700 flex items-center justify-center transition-colors shadow-lg",children:e?(0,a.jsx)("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,a.jsx)("svg",{className:"w-10 h-10 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})})})})]})}),(0,a.jsxs)("div",{className:"mt-16",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:"Today's Schedule"}),S?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsxs)("div",{className:"text-gray-400 text-lg mb-4",children:[(0,a.jsx)("i",{className:"fas fa-radio text-4xl mb-4 block"}),"Loading today's schedule..."]})}):0===E().length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("div",{className:"text-gray-400 text-lg mb-4",children:[(0,a.jsx)("i",{className:"fas fa-calendar text-4xl mb-4 block"}),"No shows scheduled for today"]}),(0,a.jsx)("p",{className:"text-gray-500",children:"Check back later for our schedule"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:E().map((e,t)=>{let s=U(e),r=(e=>{let t,s=new Date().toTimeString().slice(0,5);return e.time.includes(" - ")?[t]=e.time.split(" - "):t=e.time,s<t})(e);return(0,a.jsxs)("div",{className:"group",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.default,{src:M(e),alt:e.presenters||"Show ".concat(e.id),width:400,height:200,className:"w-full h-48 object-cover transition-transform duration-300 cursor-pointer rounded-xl hover:scale-105"}),s&&(0,a.jsx)("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-full animate-pulse",children:"LIVE"}),r&&(0,a.jsx)("div",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:"UPCOMING"})]}),(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.show_name}),(0,a.jsx)("p",{className:"font-semibold text-red-500 text-lg",children:e.time})]})]},e.id||t)})})]}),(0,a.jsxs)("div",{className:"mt-16 text-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Download Our Mobile App"}),(0,a.jsx)("p",{className:"text-gray-400 mb-8 max-w-2xl mx-auto",children:"Get the NRG Radio app for the best listening experience on your mobile device"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[(0,a.jsxs)("a",{href:"https://play.google.com/store/apps/details?id=com.nrgug.radio",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 bg-black hover:bg-gray-900 text-white px-6 py-4 rounded-lg transition-colors duration-200 border border-gray-700",children:[(0,a.jsx)("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"GET IT ON"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:"Google Play"})]})]}),(0,a.jsxs)("a",{href:"https://apps.apple.com/app/nrg-radio-uganda/id1234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 bg-black hover:bg-gray-900 text-white px-6 py-4 rounded-lg transition-colors duration-200 border border-gray-700",children:[(0,a.jsx)("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Download on the"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:"App Store"})]})]})]})]})]})}),(0,a.jsx)(i.A,{})]})}},8189:(e,t,s)=>{"use strict";s.d(t,{Wq:()=>l,e9:()=>n});var a=s(5704);let r={audio:{primary:a.env.NEXT_PUBLIC_AUDIO_STREAM_URL||"https://dc4.serverse.com/proxy/nrgugstream/stream",backup:a.env.NEXT_PUBLIC_AUDIO_STREAM_URL_BACKUP||"https://live2.tensila.com/nrg-radio-v-1.nrgug/player.html",alternatives:["https://dc4.serverse.com/proxy/nrgugstream/stream","https://live2.tensila.com/nrg-radio-v-1.nrgug/player.html","https://stream.radio.co/s02012345/listen"]},video:{primary:a.env.NEXT_PUBLIC_VIDEO_STREAM_URL||"https://live2.tensila.com/nrg-radio-v-1.nrgug/player.html",backup:a.env.NEXT_PUBLIC_VIDEO_STREAM_URL_BACKUP||"https://dc4.serverse.com/proxy/nrgugstream/stream",alternatives:["https://live2.tensila.com/nrg-radio-v-1.nrgug/player.html","https://dc4.serverse.com/proxy/nrgugstream/stream","https://www.youtube.com/embed/live_stream_id"]},api:{baseUrl:a.env.NEXT_PUBLIC_API_URL||"https://nrgug-api-production.up.railway.app",endpoints:{streamStatus:"/api/stream/status",currentShow:"/api/shows/current",listenerCount:"/api/stream/listeners"}},metadata:{stationName:"NRG Radio Uganda",frequency:"104.1 FM",location:"Kampala, Uganda",website:"https://nrgug.vercel.app",social:{facebook:"https://facebook.com/nrgradiouganda",twitter:"https://twitter.com/nrgradiouganda",instagram:"https://instagram.com/nrgradiouganda"}}},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=r[e];return t?s.backup:s.primary},n=e=>"".concat(r.api.baseUrl).concat(r.api.endpoints[e]||e)}},e=>{e.O(0,[481,402,441,255,358],()=>e(e.s=858)),_N_E=e.O()}]);